package html

// This file is generated by gen-tags; DO NOT EDIT.
// Core Node implementation and apply methods for all HTML elements.

import (
	"html"
	"strconv"
	"strings"
)

type Component interface {
	render(*strings.Builder)
}

type TextNode string

func (t TextNode) render(sb *strings.Builder) {
	sb.WriteString(html.EscapeString(string(t)))
}

type UnsafeTextNode string

func (t UnsafeTextNode) render(sb *strings.Builder) {
	sb.WriteString(string(t))
}

// attrWriter lets each tag write its own attributes (no central switch)
type attrWriter interface {
	writeAttrs(*strings.Builder)
}

type Node struct {
	Tag       string
	Attrs     any         // must implement attrWriter
	Kids      []Component // empty for void tags
	Void      bool
	AssetCSS  string // CSS to be collected by asset system
	AssetJS   string // JavaScript to be collected by asset system
	AssetName string // Name for asset deduplication
}

func (n Node) render(sb *strings.Builder) {
	sb.WriteString("<")
	sb.WriteString(n.Tag)
	if aw, ok := n.Attrs.(attrWriter); ok {
		aw.writeAttrs(sb)
	}
	sb.WriteString(">")
	if !n.Void {
		for _, k := range n.Kids {
			k.render(sb)
		}
		sb.WriteString("</")
		sb.WriteString(n.Tag)
		sb.WriteString(">")
	}
}

// Children exposes the node's children for traversals that need to walk
// the component tree (e.g., asset collection). This enables upstream
// code to discover nested components without callers having to pass
// them explicitly.
func (n Node) Children() []Component { return n.Kids }

// Asset interface implementations for Node
func (n Node) CSS() string  { return n.AssetCSS }
func (n Node) JS() string   { return n.AssetJS }
func (n Node) Name() string { return n.AssetName }

// WithAssets returns a copy of the Node with CSS/JS assets attached
func (n Node) WithAssets(css, js, name string) Node {
	return Node{
		Tag:       n.Tag,
		Attrs:     n.Attrs,
		Kids:      n.Kids,
		Void:      n.Void,
		AssetCSS:  css,
		AssetJS:   js,
		AssetName: name,
	}
}

func Render(c Component) string {
	var sb strings.Builder
	c.render(&sb)
	return sb.String()
}

func Attr(sb *strings.Builder, k, v string) {
	sb.WriteString(" ")
	sb.WriteString(k)
	sb.WriteString(`="`)
	sb.WriteString(html.EscapeString(v))
	sb.WriteString(`"`)
}

func BoolAttr(sb *strings.Builder, k string) {
	sb.WriteString(" ")
	sb.WriteString(k)
}

func itoa(i int) string {
	return strconv.Itoa(i)
}

// Allow passing any Component (Node) directly as a child argument to content tags,
// removing the need to wrap with Child(...)/C(...).
// Node implements many *Arg interfaces by appending itself to the children slice.

func (n Node) applyA(_ *AAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applyAbbr(_ *AbbrAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyAcronym(_ *AcronymAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyAddress(_ *AddressAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyArea(_ *AreaAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyArticle(_ *ArticleAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyAside(_ *AsideAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyAudio(_ *AudioAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyB(_ *BAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applyBase(_ *BaseAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyBdi(_ *BdiAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyBdo(_ *BdoAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyBig(_ *BigAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyBlockquote(_ *BlockquoteAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyBody(_ *BodyAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyBr(_ *BrAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyButton(_ *ButtonAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyCanvas(_ *CanvasAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyCaption(_ *CaptionAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyCenter(_ *CenterAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyCheckbox(_ *CheckboxAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyCite(_ *CiteAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyCode(_ *CodeAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyCol(_ *ColAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyColgroup(_ *ColgroupAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyColor(_ *ColorAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyData(_ *DataAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyDatalist(_ *DatalistAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyDate(_ *DateAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyDatetimeLocal(_ *DatetimeLocalAttrs, kids *[]Component) { *kids = append(*kids, n) }
func (n Node) applyDd(_ *DdAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyDel(_ *DelAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyDetails(_ *DetailsAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyDfn(_ *DfnAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyDialog(_ *DialogAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyDir(_ *DirAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyDiv(_ *DivAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyDl(_ *DlAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyDt(_ *DtAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyEm(_ *EmAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyEmail(_ *EmailAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyEmbed(_ *EmbedAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyFencedframe(_ *FencedframeAttrs, kids *[]Component)     { *kids = append(*kids, n) }
func (n Node) applyFieldset(_ *FieldsetAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyFigcaption(_ *FigcaptionAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyFigure(_ *FigureAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyFile(_ *FileAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyFont(_ *FontAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyFooter(_ *FooterAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyForm(_ *FormAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyFrame(_ *FrameAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyFrameset(_ *FramesetAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyH1(_ *H1Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyH2(_ *H2Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyH3(_ *H3Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyH4(_ *H4Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyH5(_ *H5Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyH6(_ *H6Attrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyHead(_ *HeadAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyHeader(_ *HeaderAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyHgroup(_ *HgroupAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyHidden(_ *HiddenAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyHr(_ *HrAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyHtml(_ *HtmlAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyI(_ *IAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applyIframe(_ *IframeAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyImage(_ *ImageAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyImg(_ *ImgAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyInput(_ *InputAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyIns(_ *InsAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyKbd(_ *KbdAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyLabel(_ *LabelAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyLegend(_ *LegendAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyLi(_ *LiAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyLink(_ *LinkAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyMain(_ *MainAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyMap(_ *MapAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyMark(_ *MarkAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyMarquee(_ *MarqueeAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyMenu(_ *MenuAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyMeta(_ *MetaAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyMeter(_ *MeterAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyMonth(_ *MonthAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyNav(_ *NavAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyNobr(_ *NobrAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyNoembed(_ *NoembedAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyNoframes(_ *NoframesAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyNoscript(_ *NoscriptAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyNumber(_ *NumberAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyObject(_ *ObjectAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyOl(_ *OlAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyOptgroup(_ *OptgroupAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyOption(_ *OptionAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyOutput(_ *OutputAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyP(_ *PAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applyParam(_ *ParamAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyPassword(_ *PasswordAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyPicture(_ *PictureAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyPlaintext(_ *PlaintextAttrs, kids *[]Component)         { *kids = append(*kids, n) }
func (n Node) applyPre(_ *PreAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyProgress(_ *ProgressAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyQ(_ *QAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applyRadio(_ *RadioAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyRange(_ *RangeAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyRb(_ *RbAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyReset(_ *ResetAttrs, kids *[]Component)                 { *kids = append(*kids, n) }
func (n Node) applyRp(_ *RpAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyRt(_ *RtAttrs, kids *[]Component)                       { *kids = append(*kids, n) }
func (n Node) applyRtc(_ *RtcAttrs, kids *[]Component)                     { *kids = append(*kids, n) }
func (n Node) applyRuby(_ *RubyAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyS(_ *SAttrs, kids *[]Component)                         { *kids = append(*kids, n) }
func (n Node) applySamp(_ *SampAttrs, kids *[]Component)                   { *kids = append(*kids, n) }
func (n Node) applyScript(_ *ScriptAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applySearch(_ *SearchAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applySection(_ *SectionAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applySelect(_ *SelectAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applySelectedcontent(_ *SelectedcontentAttrs, kids *[]Component) {
	*kids = append(*kids, n)
}
func (n Node) applySlot(_ *SlotAttrs, kids *[]Component)         { *kids = append(*kids, n) }
func (n Node) applySmall(_ *SmallAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applySource(_ *SourceAttrs, kids *[]Component)     { *kids = append(*kids, n) }
func (n Node) applySpan(_ *SpanAttrs, kids *[]Component)         { *kids = append(*kids, n) }
func (n Node) applyStrike(_ *StrikeAttrs, kids *[]Component)     { *kids = append(*kids, n) }
func (n Node) applyStrong(_ *StrongAttrs, kids *[]Component)     { *kids = append(*kids, n) }
func (n Node) applyStyle(_ *StyleAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applySub(_ *SubAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applySubmit(_ *SubmitAttrs, kids *[]Component)     { *kids = append(*kids, n) }
func (n Node) applySummary(_ *SummaryAttrs, kids *[]Component)   { *kids = append(*kids, n) }
func (n Node) applySup(_ *SupAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyTable(_ *TableAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTbody(_ *TbodyAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTd(_ *TdAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyTel(_ *TelAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyTemplate(_ *TemplateAttrs, kids *[]Component) { *kids = append(*kids, n) }
func (n Node) applyTextarea(_ *TextareaAttrs, kids *[]Component) { *kids = append(*kids, n) }
func (n Node) applyTfoot(_ *TfootAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTh(_ *ThAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyThead(_ *TheadAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTime(_ *TimeAttrs, kids *[]Component)         { *kids = append(*kids, n) }
func (n Node) applyTitle(_ *TitleAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTr(_ *TrAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyTrack(_ *TrackAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyTt(_ *TtAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyU(_ *UAttrs, kids *[]Component)               { *kids = append(*kids, n) }
func (n Node) applyUl(_ *UlAttrs, kids *[]Component)             { *kids = append(*kids, n) }
func (n Node) applyUrl(_ *UrlAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyVar(_ *VarAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyVideo(_ *VideoAttrs, kids *[]Component)       { *kids = append(*kids, n) }
func (n Node) applyWbr(_ *WbrAttrs, kids *[]Component)           { *kids = append(*kids, n) }
func (n Node) applyWeek(_ *WeekAttrs, kids *[]Component)         { *kids = append(*kids, n) }
func (n Node) applyXmp(_ *XmpAttrs, kids *[]Component)           { *kids = append(*kids, n) }
